(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4477],{4477:(S,D,d)=>{"use strict";d.r(D),d.d(D,{SignInWithAppleWeb:()=>T});var A=d(5861),P=d(2726),g=d(5795);class T extends P.Uw{constructor(){super({name:"SignInWithApple",platforms:["web"]}),this.appleScriptUrl="https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",this.isAppleScriptLoaded=!1}authorize(l){var E=this;return(0,A.Z)(function*(){return new Promise((W,f)=>{l?E.loadSignInWithAppleJS().then(y=>{var s,p,_;E.isAppleScriptLoaded=y,E.isAppleScriptLoaded?(AppleID.auth.init({clientId:l.clientId,redirectURI:l.redirectURI,scope:null!==(s=l.scopes)&&void 0!==s?s:void 0,state:null!==(p=l.state)&&void 0!==p?p:void 0,nonce:null!==(_=l.nonce)&&void 0!==_?_:void 0,usePopup:!0}),AppleID.auth.signIn().then(u=>{var v,h,t,I,n;const i={response:{user:null,email:null===(v=u.user)||void 0===v?void 0:v.email,givenName:null===(t=null===(h=u.user)||void 0===h?void 0:h.name)||void 0===t?void 0:t.firstName,familyName:null===(n=null===(I=u.user)||void 0===I?void 0:I.name)||void 0===n?void 0:n.lastName,identityToken:u.authorization.id_token,authorizationCode:u.authorization.code}};W(i)}).catch(u=>{f(u)})):f("Unable to load Sign in with Apple JS framework.")}):f("No options were provided.")})})()}loadSignInWithAppleJS(){return new Promise(l=>{this.isAppleScriptLoaded?l(!0):void 0!==typeof window?g.get(this.appleScriptUrl,()=>l(!0)):l(!1)})}}},5795:(S,D,d)=>{var A,P,m;m=function(){var _,u,g=document,m=g.getElementsByTagName("head")[0],M=!1,l="push",E="readyState",W="onreadystatechange",f={},y={},s={},p={};function v(n,i){for(var e=0,o=n.length;e<o;++e)if(!i(n[e]))return M;return 1}function h(n,i){v(n,function(e){return i(e),1})}function t(n,i,e){n=n[l]?n:[n];var o=i&&i.call,r=o?i:e,U=o?n.join(""):i,O=n.length;function L(c){return c.call?c():f[c]}function C(){if(!--O)for(var c in f[U]=1,r&&r(),s)v(c.split("|"),L)&&!h(s[c],L)&&(s[c]=[])}return setTimeout(function(){h(n,function c(a,B){return null===a?C():(!B&&!/^https?:\/\//.test(a)&&_&&(a=-1===a.indexOf(".js")?_+a+".js":_+a),p[a]?(U&&(y[U]=1),2==p[a]?C():setTimeout(function(){c(a,!0)},0)):(p[a]=1,U&&(y[U]=1),void I(a,C)))})},0),t}function I(n,i){var o,e=g.createElement("script");e.onload=e.onerror=e[W]=function(){e[E]&&!/^c|loade/.test(e[E])||o||(e.onload=e[W]=null,o=1,p[n]=2,i())},e.async=1,e.src=u?n+(-1===n.indexOf("?")?"?":"&")+u:n,m.insertBefore(e,m.lastChild)}return t.get=I,t.order=function(n,i,e){!function o(r){r=n.shift(),n.length?t(r,o):t(r,i,e)}()},t.path=function(n){_=n},t.urlArgs=function(n){u=n},t.ready=function(n,i,e){var r,o=[];return!h(n=n[l]?n:[n],function(r){f[r]||o[l](r)})&&v(n,function(r){return f[r]})?i():(r=n.join("|"),s[r]=s[r]||[],s[r][l](i),e&&e(o)),t},t.done=function(n){t([null],n)},t},S.exports?S.exports=m():void 0!==(P="function"==typeof(A=m)?A.call(D,d,D,S):A)&&(S.exports=P)}}]);