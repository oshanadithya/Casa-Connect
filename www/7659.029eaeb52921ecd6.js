"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7659],{7659:(A,h,d)=>{d.r(h),d.d(h,{RemindersPageModule:()=>P});var f=d(6814),v=d(95),i=d(7311),m=d(2129),u=d(5861),g=d(9862),e=d(6689),R=d(6882),x=d(8789),y=d(2014);function Z(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"ion-list")(1,"ion-item")(2,"p",10),e._uU(3),e.qZA(),e.TgZ(4,"p",10),e._uU(5),e.qZA(),e.TgZ(6,"p",10),e._uU(7),e.qZA(),e.TgZ(8,"ion-button",11),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteReminder(l.event_id))}),e._UZ(9,"ion-icon",12),e.qZA()()()}if(2&n){const t=p.$implicit;e.xp6(3),e.Oqu(t.event_name),e.xp6(2),e.Oqu(t.date),e.xp6(2),e.Oqu(t.time)}}const T=[{path:"",component:(()=>{class n{constructor(t,o,r,l,a,s,c,_){this.auth=t,this.route=o,this.alertController=r,this.router=l,this._apiService=a,this.http=s,this.storage=c,this.loadingController=_,this.events=[],this.isModalOpen=!1,this.user_events=[],this.btnStatus=0,this.status_in_calander=1}ngOnInit(){var t=this;return(0,u.Z)(function*(){const o=yield t.loadingController.create();yield o.present(),t.user_id=yield t.storage.get("userid"),t.member=yield t.storage.get("userState"),t.useremail=yield t.storage.get("email"),t.google_email=yield t.storage.get("google_email"),t.apple_email=yield t.storage.get("apple_email"),t.appleid=yield t.storage.get("appleid"),t.gmailid=yield t.storage.get("gmailid"),t.getReminder(),yield o.dismiss()})()}showAlert(t,o){var r=this;return(0,u.Z)(function*(){yield(yield r.alertController.create({header:t,message:o,buttons:["Okay"]})).present()})()}getReminder(){var t=this;return(0,u.Z)(function*(){var o=new Headers;o.append("Accept","application/json"),o.append("Content-Type","application/json");const r={headers:new g.WM({"Content-Type":"application/json"})},l="https://casa.evokemusic.net/api/v2/getreminder/";if(t.google_email)t.http.get(`${l}${t.gmailid}`,r).subscribe({next:c=>{t.user_events=c},error:c=>console.error(c),complete:()=>console.log("Complete")});else{var a;const s=`${l}${null===(a=t.auth.currentUser)||void 0===a?void 0:a.uid}`;t.http.get(s,r).subscribe({next:c=>{t.user_events=c},error:c=>console.error(c),complete:()=>console.log("Complete")})}})()}deleteReminder(t){var o=new Headers;o.append("Accept","application/json"),o.append("Content-Type","application/json");const r={headers:new g.WM({"Content-Type":"application/json"})},l="https://casa.evokemusic.net/api/v2/removereminder";this.google_email?this.http.post(l,{user_id:this.gmailid,event_id:t},r).subscribe({next:s=>{this.addReminder=s,this.showAlert("Reminder Deleted","Successfully!")},error:s=>console.error(s),complete:()=>console.log("Complete")}):this.apple_email?this.http.post(l,{user_id:this.appleid,event_id:t},r).subscribe({next:s=>{this.addReminder=s,this.showAlert("Reminder Deleted","Successfully!")},error:s=>console.error(s),complete:()=>console.log("Complete")}):this.http.post(l,{user_id:this.user_id,event_id:t},r).subscribe({next:s=>{this.addReminder=s,this.showAlert("Reminder Deleted","Successfully!")},error:s=>console.error(s),complete:()=>console.log("Complete")})}goBack(){this.router.navigateByUrl("menu/events")}doRefresh(t){setTimeout(()=>{this.getReminder(),t.target.complete()},2e3)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(R.gx),e.Y36(m.gz),e.Y36(i.Br),e.Y36(m.F0),e.Y36(x.s),e.Y36(g.eN),e.Y36(y.K),e.Y36(i.HT))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-reminders"]],decls:15,vars:3,consts:[[3,"translucent"],[1,"ion-paddding"],["slot","fixed","disabled","false",3,"ionRefresh"],["pullingIcon","arrow-dropdown","pullingText","Pull to refresh","refreshingSpinner","circles","refreshingText","Refreshing..."],["collapse","condense"],["color","medium",2,"position","static"],[2,"font-size","x-large"],[4,"ngFor","ngForOf"],["slot","fixed","vertical","bottom","horizontal","end"],["size","small",2,"margin-left","auto","width","80px","height","30px","font-size","x-small",3,"disabled","click"],[2,"font-size","xx-small","margin-right","15px"],["size","xx-small",2,"margin-left","20px","margin-right","auto","width","40px","height","20px","font-size","xx-small",3,"click"],["name","trash-outline"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header",0),e._UZ(1,"ion-toolbar"),e.qZA(),e.TgZ(2,"ion-content",1)(3,"ion-refresher",2),e.NdJ("ionRefresh",function(l){return o.doRefresh(l)}),e._UZ(4,"ion-refresher-content",3),e.qZA(),e._UZ(5,"ion-header",4),e.TgZ(6,"ion-card",5)(7,"ion-card-header")(8,"ion-card-title",6),e._uU(9,"Reminders"),e.qZA()(),e.TgZ(10,"ion-card-content"),e.YNc(11,Z,10,3,"ion-list",7),e.qZA()(),e.TgZ(12,"ion-fab",8)(13,"ion-button",9),e.NdJ("click",function(){return o.goBack()}),e._uU(14," Events "),e.qZA()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(11),e.Q6J("ngForOf",o.user_events),e.xp6(2),e.Q6J("disabled",!1))},dependencies:[f.sg,i.YG,i.PM,i.FN,i.Zi,i.Dq,i.W2,i.IJ,i.Gu,i.gu,i.Ie,i.q_,i.nJ,i.Wo,i.sr]}),n})()}];let C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.Bz.forChild(T),m.Bz]}),n})(),P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[f.ez,v.u5,i.Pc,C]}),n})()}}]);